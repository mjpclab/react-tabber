!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).ReactTabber=t(e.React,e.PropTypes)}(this,function(e,n){"use strict";var k="default"in e?e.default:e;n=n&&n.hasOwnProperty("default")?n.default:n;var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r={fnSwitchTo:n.func,fnSwitchPrevious:n.func,fnSwitchNext:n.func,fnSwitchFirst:n.func,fnSwitchLast:n.func},a=n.arrayOf(n.shape({label:n.node.isRequired,panel:n.node.isRequired,key:n.oneOfType([n.string,n.number])})),i={entries:a,mode:n.string,keyboardSwitch:n.bool,delayTriggerLatency:n.number,tabContainerClassName:n.string,labelContainerClassName:n.string,showHeaderLabelContainer:n.bool,showFooterLabelContainer:n.bool,labelItemClassName:n.string,panelContainerClassName:n.string,panelItemClassName:n.string},o={onUpdateActivePosition:n.func,onUpdateTargetPosition:n.func,onSwitching:n.func,onSwitched:n.func},s={triggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerCancelEvents:n.oneOfType([n.string,n.arrayOf(n.string)])},l={triggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerCancelEvents:n.oneOfType([n.string,n.arrayOf(n.string)])},c=t({},i,o,s,{activePosition:n.oneOfType([n.string,n.number])}),p=t({},i,o,l,{activePosition:n.oneOfType([n.string,n.number])}),u=t({},i,l,r,{tabContext:n.object}),d=t({},l,r,{entries:a,mode:n.string,keyboardSwitch:n.bool,delayTriggerLatency:n.number,labelContainerClassName:n.string,labelItemClassName:n.string,tabContext:n.object,side:n.string}),f={entries:n.arrayOf(n.object),mode:n.string,panelContainerClassName:n.string,panelItemClassName:n.string,tabContext:n.object,refLabelSide:n.string},h={entries:[],mode:"horizontal",keyboardSwitch:!0,triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemClassName:"label-item",panelContainerClassName:"panel-container",panelItemClassName:"panel-item"},y=/\s+/;function m(e){if(e)return Array.isArray(e)?e:String(e).split(y)}var b,g,C=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.propTypes={disabled:n.bool,hidden:n.bool},t}(e.Component),w=(g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t}(e.Component),T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};var _={index:-1,key:void 0};function P(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||_}return _}var I="__react-tabber",S=Number.MAX_SAFE_INTEGER||9007199254740991,x=-1;function L(e,t,n){return I+"__"+e+"__"+t+"__label__"+n}function j(e,t){return I+"__"+e+"__panel__"+t}var E="active",A="inactive",F="disabled",D="hidden",H="header",U="footer";function R(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var B,K,q=(B=function(e,t){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},z=function(n){function e(e){var t=n.call(this,e)||this;return t.onKeyDown=t.onKeyDown.bind(t),t.state={labelContainerAllClassName:"",labelItemActiveClassName:"",labelItemInactiveClassName:"",labelItemDisabledClassName:"",labelItemHiddenClassName:""},t}return q(e,n),e.getDerivedStateFromProps=function(e){var t=e.mode,n=e.labelContainerClassName,r=e.labelItemClassName,a=e.side;return{labelContainerAllClassName:n+" "+(n+"-"+a)+" "+(n+"-"+t)+" "+(n+"-"+a+"-"+t),labelItemActiveClassName:r+"-"+E,labelItemInactiveClassName:r+"-"+A,labelItemDisabledClassName:r+"-"+F,labelItemHiddenClassName:r+"-"+D}},e.prototype.onKeyDown=function(e,t){var n,r=this.props,a=r.fnSwitchTo,i=r.fnSwitchPrevious,o=r.fnSwitchNext,s=r.fnSwitchFirst,l=r.fnSwitchLast;if(e.key)switch(e.key){case"Up":case"Left":case"ArrowUp":case"ArrowLeft":n=i();break;case"Down":case"Right":case"ArrowDown":case"ArrowRight":n=o();break;case"Tab":(n=e.shiftKey?i():o())&&e.preventDefault();break;case"Home":n=s();break;case"End":n=l();break;case" ":case"Enter":n=a(t)}if(n){var c=e.currentTarget.parentNode.childNodes[n.index];c&&c.focus&&c.focus(),e.preventDefault()}},e.prototype.render=function(){var y=this,e=this.props,m=e.keyboardSwitch,b=e.labelItemClassName,g=e.triggerEvents,C=e.delayTriggerEvents,v=e.delayTriggerCancelEvents,w=e.delayTriggerLatency,t=e.entries,N=e.tabContext,T=e.side,O=e.fnSwitchTo,_=N.tabberId,P=N.currentPosition.index,n=this.state,r=n.labelContainerAllClassName,I=n.labelItemActiveClassName,S=n.labelItemInactiveClassName,x=n.labelItemDisabledClassName,E=n.labelItemHiddenClassName;return k.createElement("div",{className:r,role:"tablist"},t.map(function(e,t){var n,r,a,i=e.labelProps,o=e.key,s=e.disabled,l=e.hidden,c={index:t,key:o};if(!s&&!l){var p,u=function(){clearTimeout(N.delayTimeout),O(c)},d=w<=0?u:function(){clearTimeout(N.delayTimeout),p=N.delayTimeout=setTimeout(u,w)};C&&C.length&&(n=R(v,function(){p===N.delayTimeout&&clearTimeout(p)}),r=R(C,d)),a=R(g,u)}var f=t===P,h=b+" "+(f?I:S);return s&&(h+=" "+x),l&&(h+=" "+E),k.createElement("label",M({},i,n,r,a,{className:h,tabIndex:0,id:L(_,T,t),role:"tab","aria-controls":j(_,t),"aria-selected":f,"aria-expanded":f,key:o?"key-"+o:"index-"+t,onKeyDown:m?function(e){return y.onKeyDown(e,c)}:void 0}),e.label)}))},e.propTypes=d,e}(e.Component),G=(K=function(e,t){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},X=function(n){function e(e){var t=n.call(this,e)||this;return t.state={panelContainerAllClassName:"",panelItemActiveClassName:"",panelItemInactiveClassName:"",panelItemDisabledClassName:"",panelItemHiddenClassName:""},t}return G(e,n),e.getDerivedStateFromProps=function(e){var t=e.mode,n=e.panelContainerClassName,r=e.panelItemClassName;return{panelContainerAllClassName:n+" "+(n+"-"+t),panelItemActiveClassName:r+"-"+E,panelItemInactiveClassName:r+"-"+A,panelItemDisabledClassName:r+"-"+F,panelItemHiddenClassName:r+"-"+D}},e.prototype.render=function(){var e=this.props,l=e.panelItemClassName,t=e.tabContext,n=e.entries,c=e.refLabelSide,p=t.tabberId,u=t.currentPosition.index,r=this.state,a=r.panelContainerAllClassName,d=r.panelItemActiveClassName,f=r.panelItemInactiveClassName,h=r.panelItemDisabledClassName,y=r.panelItemHiddenClassName;return k.createElement("div",{className:a},n.map(function(e,t){var n=e.panelProps,r=e.key,a=e.disabled,i=e.hidden,o=t===u,s=l+" "+(o?d:f);return a&&(s+=" "+h),i&&(s+=" "+y),k.createElement("div",W({},n,{className:s,id:j(p,t),role:"tabpanel","aria-labelledby":L(p,c,t),"aria-hidden":!o,key:r?"key-"+r:"index-"+t}),e.panel)}))},e.propTypes=f,e}(e.Component);function J(e){var t=e.entries,n=e.mode,r=e.keyboardSwitch,a=e.delayTriggerLatency,i=e.tabContainerClassName,o=e.labelContainerClassName,s=e.labelItemClassName,l=e.panelContainerClassName,c=e.panelItemClassName,p=e.showHeaderLabelContainer,u=e.showFooterLabelContainer,d=e.triggerEvents,f=e.delayTriggerEvents,h=e.delayTriggerCancelEvents,y=e.fnSwitchTo,m=e.fnSwitchPrevious,b=e.fnSwitchNext,g=e.fnSwitchFirst,C=e.fnSwitchLast,v=e.tabContext,w=H,N=U,T=i+"-"+n;return k.createElement("div",{className:i+" "+T},p?k.createElement(z,{entries:t,mode:n,keyboardSwitch:r,delayTriggerLatency:a,labelContainerClassName:o,labelItemClassName:s,tabContext:v,side:w,triggerEvents:d,delayTriggerEvents:f,delayTriggerCancelEvents:h,fnSwitchTo:y,fnSwitchPrevious:m,fnSwitchNext:b,fnSwitchFirst:g,fnSwitchLast:C}):null,k.createElement(X,{mode:n,panelContainerClassName:l,panelItemClassName:c,tabContext:v,entries:t,refLabelSide:p||!u?w:N}),u?k.createElement(z,{entries:t,mode:n,keyboardSwitch:r,delayTriggerLatency:a,labelContainerClassName:o,labelItemClassName:s,tabContext:v,side:N,fnSwitchTo:y,fnSwitchPrevious:m,fnSwitchNext:b,fnSwitchFirst:g,fnSwitchLast:C}):null)}J.propTypes=u;var Q,V,Y,Z=(Q=function(e,t){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(Y=V||(V={}))[Y.Backward=0]="Backward",Y[Y.Forward=1]="Forward";var $,ee=function(n){function e(e){var t=n.call(this,e)||this;return t.tabContext={tabberId:x=(x+1)%S,prevPosition:_,currentPosition:_,delayTimeout:0},t.switchTo=t.switchTo.bind(t),t._switchNeighbor=t._switchNeighbor.bind(t),t.switchPrevious=t.switchPrevious.bind(t),t.switchNext=t.switchNext.bind(t),t.switchFirst=t.switchFirst.bind(t),t.switchLast=t.switchLast.bind(t),t.state={manageTargetPosition:!0,targetPosition:-1},t}return Z(e,n),e.getDerivedStateFromProps=function(e){var t=e.activePosition;return null==t||"number"==typeof t&&!isFinite(t)?{manageTargetPosition:!0}:{manageTargetPosition:!1,targetPosition:t}},e.prototype.componentWillUnmount=function(){clearTimeout(this.tabContext.delayTimeout)},e.prototype.switchTo=function(e){var t=this.state.manageTargetPosition,n=this.props,r=n.onUpdateActivePosition,a=n.onUpdateTargetPosition;return t?a&&!1===a(e)||this.setState({targetPosition:e.index}):r&&r(e),e},e.prototype._switchNeighbor=function(e,t,n){var r,a,i,o;n&&(r=n.includeDisabled,a=n.includeHidden,i=n.loop,o=n.exclude);var s=this.props.entries,l=o?o.map(function(e){return P(s,e).index}):[],c=s.length,p=-1;i?p=0<=e&&e<c?c-1:c:t===V.Backward?p=e:t===V.Forward&&(p=c-e-1);for(var u=t===V.Backward?-1:1,d=1;d<=p;d++){var f=(e+d*u+c)%c;if(!(0<=l.indexOf(f))){var h=s[f],y=h.disabled,m=h.hidden;if(!y&&!m||r&&!m||!y&&a||r&&a)return this.switchTo(P(s,f))}}},e.prototype.switchPrevious=function(e){return this._switchNeighbor(this.tabContext.currentPosition.index,V.Backward,e)},e.prototype.switchNext=function(e){return this._switchNeighbor(this.tabContext.currentPosition.index,V.Forward,e)},e.prototype.switchFirst=function(e){return this._switchNeighbor(-1,V.Forward,e)},e.prototype.switchLast=function(e){return this._switchNeighbor(this.props.entries.length,V.Backward,e)},e.prototype.render=function(){var e,t=this.props,n=this.state,r=this.tabContext,a=n.targetPosition,i=r.prevPosition,o=i.index,s=t.entries,l=t.mode,c=t.keyboardSwitch,p=t.delayTriggerLatency,u=t.tabContainerClassName,d=t.labelContainerClassName,f=t.labelItemClassName,h=t.panelContainerClassName,y=t.panelItemClassName,m=t.showHeaderLabelContainer,b=t.showFooterLabelContainer,g=t.triggerEvents,C=t.delayTriggerEvents,v=t.delayTriggerCancelEvents,w=P(s,a),N=w.index,T=s.length;return r.currentPosition=-1===N?P(s,e=0<T?0:-1):N<T?(e=N,w):P(s,e=T-1),o!==e&&t.onSwitching&&t.onSwitching(i,r.currentPosition),k.createElement(J,{entries:s,mode:l,keyboardSwitch:c,delayTriggerLatency:p,tabContainerClassName:u,labelContainerClassName:d,labelItemClassName:f,panelContainerClassName:h,panelItemClassName:y,showHeaderLabelContainer:m,showFooterLabelContainer:b,triggerEvents:g,delayTriggerEvents:C,delayTriggerCancelEvents:v,fnSwitchTo:this.switchTo,fnSwitchPrevious:this.switchPrevious,fnSwitchNext:this.switchNext,fnSwitchFirst:this.switchFirst,fnSwitchLast:this.switchLast,tabContext:r})},e.prototype.handleIndexChange=function(){var e=this.props,t=this.tabContext,n=e.onSwitched,r=t.prevPosition,a=t.currentPosition;r.index!==a.index&&n&&n(r,a),t.prevPosition=a},e.prototype.componentDidMount=function(){this.handleIndexChange()},e.prototype.componentDidUpdate=function(){this.handleIndexChange()},e.propTypes=p,e.defaultProps=h,e}(k.Component),te=($=function(e,t){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},re=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.render=function(){var e=this.props,t=e.entries,n=e.children,r=e.triggerEvents,a=e.delayTriggerEvents,i=e.delayTriggerCancelEvents,o=re(e,["entries","children","triggerEvents","delayTriggerEvents","delayTriggerCancelEvents"]),s=function(e,t){var o=[];if(e&&e.length&&o.push.apply(o,e.map(function(e){var t=T({},e);return void 0===t.key&&(t.key=null),t})),t){var s,l,c,p={},u=[],d={},f=[],h=function(){o.push({labelProps:p,label:u,panelProps:d,panel:f,key:s,disabled:l,hidden:c})};k.Children.forEach(t,function(e){var t=e;if(t.type&&t.type===v){u.length&&h();var n=t.props,r=n.disabled,a=n.hidden,i=O(n,["disabled","hidden"]);p=i,u=[],Array.isArray(t.props.children)?u.push.apply(u,t.props.children):u.push(t.props.children),d={},f=[],s=void 0!==t.key?t.key:o.length,l=r,c=a}else u.length||u.push(""),t.type&&t.type===N?(d=T({},d,t.props),Array.isArray(t.props.children)?f.push.apply(f,t.props.children):f.push(t.props.children)):t.type&&f.push(t)}),u.length&&h()}return o}(t,n);return k.createElement(ee,ne({},o,{entries:s,triggerEvents:m(r),delayTriggerEvents:m(a),delayTriggerCancelEvents:m(i)}))},t.Label=v,t.Panel=N,t.propTypes=c,t.defaultProps=h,t}(e.Component)});
