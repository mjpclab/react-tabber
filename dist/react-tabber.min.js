!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).ReactTabber=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";var I="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r={fnSwitchTo:t.func,fnSwitchPrevious:t.func,fnSwitchNext:t.func,fnSwitchFirst:t.func,fnSwitchLast:t.func},i=t.arrayOf(t.shape({label:t.node.isRequired,panel:t.node.isRequired,key:t.oneOfType([t.string,t.number])})),o={entries:i,mode:t.string,keyboardSwitch:t.bool,delayTriggerLatency:t.number,tabContainerClassName:t.string,labelContainerClassName:t.string,showHeaderLabelContainer:t.bool,showFooterLabelContainer:t.bool,labelItemClassName:t.string,panelContainerClassName:t.string,panelItemClassName:t.string},a={onUpdateActivePosition:t.func,onUpdateTargetPosition:t.func,onSwitching:t.func,onSwitched:t.func},s={triggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerCancelEvents:t.oneOfType([t.string,t.arrayOf(t.string)])},c={triggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerCancelEvents:t.oneOfType([t.string,t.arrayOf(t.string)])},l=n(n(n(n({},o),a),s),{activePosition:t.oneOfType([t.string,t.number])}),p=n(n(n(n({},o),a),c),{activePosition:t.oneOfType([t.string,t.number])}),u=n(n(n(n({},o),c),r),{tabContext:t.object,currentIndex:t.number}),d=n(n(n({},c),r),{entries:i,mode:t.string,keyboardSwitch:t.bool,delayTriggerLatency:t.number,labelContainerClassName:t.string,labelItemClassName:t.string,tabContext:t.object,currentIndex:t.number,side:t.string}),f={entries:t.arrayOf(t.object),mode:t.string,panelContainerClassName:t.string,panelItemClassName:t.string,tabContext:t.object,currentIndex:t.number,refLabelSide:t.string},h={entries:[],mode:"horizontal",keyboardSwitch:!0,triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemClassName:"label-item",panelContainerClassName:"panel-container",panelItemClassName:"panel-item"},y=/\s+/;function g(e){return e?(Array.isArray(e)?e:String(e).split(y)).filter(Boolean):[]}var b,m,v=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=(m=e.Component,v(C,m),C.propTypes={disabled:t.bool,hidden:t.bool},C);function C(){return null!==m&&m.apply(this,arguments)||this}var T,O,_=(T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=(O=e.Component,_(N,O),N);function N(){return null!==O&&O.apply(this,arguments)||this}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var E={index:-1,key:void 0};function k(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||E}return E}var j="__react-tabber",L=Number.MAX_SAFE_INTEGER||9007199254740991,F=-1;function A(e,t,n){return j+"__"+e+"__"+t+"__label__"+n}function D(e,t){return j+"__"+e+"__panel__"+t}var U="active",B="inactive",H="disabled",R="hidden",q="header",K="footer";function M(e,t){var n={};return e.forEach(function(e){n[e]=t}),n}var z,G,W=(z=function(e,t){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),X=function(){return(X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},J=(G=e.Component,W(Q,G),Q.prototype.onKeyDown=function(e,t){var n,r=this.props,i=r.fnSwitchTo,o=r.fnSwitchPrevious,a=r.fnSwitchNext,s=r.fnSwitchFirst,c=r.fnSwitchLast;if(e.key)switch(e.key){case"Up":case"Left":case"ArrowUp":case"ArrowLeft":n=o();break;case"Down":case"Right":case"ArrowDown":case"ArrowRight":n=a();break;case"Tab":(n=(e.shiftKey?o:a)())&&e.preventDefault();break;case"Home":n=s();break;case"End":n=c();break;case" ":case"Enter":n=i(t)}if(n){var l=e.currentTarget.parentNode.childNodes[n.index];l&&l.focus&&l.focus(),e.preventDefault()}},Q.prototype.render=function(){var y=this,e=this.props,t=e.entries,n=e.mode,g=e.keyboardSwitch,b=e.triggerEvents,r=e.labelContainerClassName,m=e.labelItemClassName,v=e.delayTriggerEvents,w=e.delayTriggerCancelEvents,C=e.delayTriggerLatency,T=e.tabContext,O=e.currentIndex,_=e.side,P=e.fnSwitchTo,i=r+" "+r+"-"+_+" "+r+"-"+n+" "+r+"-"+_+"-"+n,N=m+"-"+U,x=m+"-"+B,S=m+"-"+H,E=m+"-"+R,k=T.tabberId;return I.createElement("div",{className:i,role:"tablist"},t.map(function(e,t){var n,r,i,o=e.labelProps,a=e.key,s=e.disabled,c=e.hidden,l={index:t,key:a};if(!s&&!c){var p,u=function(){clearTimeout(T.delayTimeout),P(l)},d=C<=0?u:function(){clearTimeout(T.delayTimeout),p=T.delayTimeout=setTimeout(u,C)};v.length&&(n=M(w,function(){p===T.delayTimeout&&clearTimeout(p)}),r=M(v,d)),i=M(b,u)}var f=t===O,h=m+" "+(f?N:x);return s&&(h+=" "+S),c&&(h+=" "+E),I.createElement("span",X({},o,n,r,i,{className:h,tabIndex:0,id:A(k,_,t),role:"tab","aria-controls":D(k,t),"aria-selected":f,"aria-expanded":f,key:a?"key-"+a:"index-"+t,onKeyDown:g?function(e){return y.onKeyDown(e,l)}:void 0}),e.label)}))},Q.propTypes=d,Q);function Q(){return null!==G&&G.apply(this,arguments)||this}var V,Y,Z=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$=function(){return($=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ee=(Y=e.Component,Z(te,Y),te.prototype.render=function(){var e=this.props,t=e.entries,n=e.mode,r=e.panelContainerClassName,c=e.panelItemClassName,i=e.tabContext,l=e.currentIndex,p=e.refLabelSide,o=r+" "+r+"-"+n,u=c+"-"+U,d=c+"-"+B,f=c+"-"+H,h=c+"-"+R,y=i.tabberId;return I.createElement("div",{className:o},t.map(function(e,t){var n=e.panelProps,r=e.key,i=e.disabled,o=e.hidden,a=t===l,s=c+" "+(a?u:d);return i&&(s+=" "+f),o&&(s+=" "+h),I.createElement("div",$({},n,{className:s,id:D(y,t),role:"tabpanel","aria-labelledby":A(y,p,t),"aria-hidden":!a,key:r?"key-"+r:"index-"+t}),e.panel)}))},te.propTypes=f,te);function te(){return null!==Y&&Y.apply(this,arguments)||this}function ne(e){var t=e.entries,n=e.mode,r=e.keyboardSwitch,i=e.delayTriggerLatency,o=e.tabContainerClassName,a=e.labelContainerClassName,s=e.labelItemClassName,c=e.panelContainerClassName,l=e.panelItemClassName,p=e.showHeaderLabelContainer,u=e.showFooterLabelContainer,d=e.triggerEvents,f=e.delayTriggerEvents,h=e.delayTriggerCancelEvents,y=e.fnSwitchTo,g=e.fnSwitchPrevious,b=e.fnSwitchNext,m=e.fnSwitchFirst,v=e.fnSwitchLast,w=e.tabContext,C=e.currentIndex,T=o+"-"+n;return I.createElement("div",{className:o+" "+T},p?I.createElement(J,{entries:t,mode:n,keyboardSwitch:r,delayTriggerLatency:i,labelContainerClassName:a,labelItemClassName:s,tabContext:w,currentIndex:C,side:q,triggerEvents:d,delayTriggerEvents:f,delayTriggerCancelEvents:h,fnSwitchTo:y,fnSwitchPrevious:g,fnSwitchNext:b,fnSwitchFirst:m,fnSwitchLast:v}):null,I.createElement(ee,{mode:n,panelContainerClassName:c,panelItemClassName:l,tabContext:w,currentIndex:C,entries:t,refLabelSide:p||!u?q:K}),u?I.createElement(J,{entries:t,mode:n,keyboardSwitch:r,delayTriggerLatency:i,labelContainerClassName:a,labelItemClassName:s,tabContext:w,currentIndex:C,side:K,triggerEvents:d,delayTriggerEvents:f,delayTriggerCancelEvents:h,fnSwitchTo:y,fnSwitchPrevious:g,fnSwitchNext:b,fnSwitchFirst:m,fnSwitchLast:v}):null)}ne.propTypes=u;var re,ie,oe,ae=(re=function(e,t){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(oe=ie=ie||{})[oe.Backward=0]="Backward",oe[oe.Forward=1]="Forward";var se,ce=(se=e.Component,ae(le,se),le.getDerivedStateFromProps=function(e){var t=e.activePosition;return null==t||"number"==typeof t&&!isFinite(t)?{manageTargetPosition:!0}:{manageTargetPosition:!1,targetPosition:t}},le.prototype.componentWillUnmount=function(){clearTimeout(this.tabContext.delayTimeout)},le.prototype.switchTo=function(e){var t=this.state.manageTargetPosition,n=this.props,r=n.onUpdateActivePosition,i=n.onUpdateTargetPosition;return t?i&&!1===i(e)||this.setState({targetPosition:e.index}):r&&r(e),e},le.prototype._switchNeighbor=function(e,t,n){var r,i,o,a;n&&(r=n.includeDisabled,i=n.includeHidden,o=n.loop,a=n.exclude);var s=this.props.entries,c=a?a.map(function(e){return k(s,e).index}):[],l=s.length,p=-1;o?p=0<=e&&e<l?l-1:l:t===ie.Backward?p=e:t===ie.Forward&&(p=l-e-1);for(var u=t===ie.Backward?-1:1,d=1;d<=p;d++){var f=(e+d*u+l)%l;if(!(0<=c.indexOf(f))){var h=s[f],y=h.disabled,g=h.hidden;if(!y&&!g||r&&!g||!y&&i||r&&i)return this.switchTo(k(s,f))}}},le.prototype.switchPrevious=function(e){return this._switchNeighbor(this.currentPosition.index,ie.Backward,e)},le.prototype.switchNext=function(e){return this._switchNeighbor(this.currentPosition.index,ie.Forward,e)},le.prototype.switchFirst=function(e){return this._switchNeighbor(-1,ie.Forward,e)},le.prototype.switchLast=function(e){return this._switchNeighbor(this.props.entries.length,ie.Backward,e)},le.prototype.render=function(){var e,t=this.props,n=this.state,r=this.tabContext,i=this.prevPosition,o=t.entries,a=t.mode,s=t.keyboardSwitch,c=t.delayTriggerLatency,l=t.tabContainerClassName,p=t.labelContainerClassName,u=t.labelItemClassName,d=t.panelContainerClassName,f=t.panelItemClassName,h=t.showHeaderLabelContainer,y=t.showFooterLabelContainer,g=t.triggerEvents,b=t.delayTriggerEvents,m=t.delayTriggerCancelEvents,v=i.index,w=k(o,n.targetPosition),C=w.index,T=o.length;return-1===C?(e=0<T?0:-1,this.currentPosition=k(o,e)):C<T?(e=C,this.currentPosition=w):(e=T-1,this.currentPosition=k(o,e)),v!==e&&t.onSwitching&&t.onSwitching(i,this.currentPosition),I.createElement(ne,{entries:o,mode:a,keyboardSwitch:s,delayTriggerLatency:c,tabContainerClassName:l,labelContainerClassName:p,labelItemClassName:u,panelContainerClassName:d,panelItemClassName:f,showHeaderLabelContainer:h,showFooterLabelContainer:y,triggerEvents:g,delayTriggerEvents:b,delayTriggerCancelEvents:m,fnSwitchTo:this.switchTo,fnSwitchPrevious:this.switchPrevious,fnSwitchNext:this.switchNext,fnSwitchFirst:this.switchFirst,fnSwitchLast:this.switchLast,tabContext:r,currentIndex:e})},le.prototype.handleIndexChange=function(){var e=this.props,t=this.prevPosition,n=this.currentPosition,r=e.onSwitched;t.index!==n.index&&r&&r(t,n),this.prevPosition=n},le.prototype.componentDidMount=function(){this.handleIndexChange()},le.prototype.componentDidUpdate=function(){this.handleIndexChange()},le.propTypes=p,le.defaultProps=h,le);function le(e){var t=se.call(this,e)||this;return t.tabContext={tabberId:F=(F+1)%L,delayTimeout:0},t.prevPosition=E,t.currentPosition=E,t.switchTo=t.switchTo.bind(t),t._switchNeighbor=t._switchNeighbor.bind(t),t.switchPrevious=t.switchPrevious.bind(t),t.switchNext=t.switchNext.bind(t),t.switchFirst=t.switchFirst.bind(t),t.switchLast=t.switchLast.bind(t),t.state={manageTargetPosition:!0,targetPosition:-1},t}var pe,ue,de=(pe=function(e,t){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},he=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ye(){return null!==ue&&ue.apply(this,arguments)||this}return ue=e.Component,de(ye,ue),ye.prototype.render=function(){var e=this.props,t=e.entries,n=e.children,r=e.triggerEvents,i=e.delayTriggerEvents,o=e.delayTriggerCancelEvents,a=he(e,["entries","children","triggerEvents","delayTriggerEvents","delayTriggerCancelEvents"]);return I.createElement(ce,fe({},a,{entries:function(e,t){var a=[];if(e&&e.length&&a.push.apply(a,e.map(function(e){var t=x({},e);return void 0===t.key&&(t.key=null),t})),t){var s,c,l,p={},u=[],d={},f=[],h=function(){a.push({labelProps:p,label:u,panelProps:d,panel:f,key:s,disabled:c,hidden:l})};I.Children.forEach(t,function(e){var t=e;if(t.type&&t.type===w){u.length&&h();var n=t.props,r=n.disabled,i=n.hidden,o=S(n,["disabled","hidden"]);p=o,u=[],Array.isArray(t.props.children)?u.push.apply(u,t.props.children):u.push(t.props.children),d={},f=[],s=void 0!==t.key?t.key:a.length,c=r,l=i}else u.length||u.push(""),t.type&&t.type===P?(d=x(x({},d),t.props),Array.isArray(t.props.children)?f.push.apply(f,t.props.children):f.push(t.props.children)):f.push(t)}),u.length&&h()}return a}(t,n),triggerEvents:g(r),delayTriggerEvents:g(i),delayTriggerCancelEvents:g(o)}))},ye.Label=w,ye.Panel=P,ye.propTypes=l,ye.defaultProps=h,ye});
