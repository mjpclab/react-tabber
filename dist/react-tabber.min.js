!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).ReactTabber=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";var T="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r={tabs:t.arrayOf(t.shape({label:t.node.isRequired,panel:t.node.isRequired,key:t.oneOfType([t.string,t.number])})),mode:t.string,delayTriggerLatency:t.number,activePosition:t.oneOfType([t.string,t.number]),onSwitching:t.func,onSwitched:t.func,tabContainerClassName:t.string,labelContainerClassName:t.string,showHeaderLabelContainer:t.bool,showFooterLabelContainer:t.bool,labelItemClassName:t.string,panelContainerClassName:t.string,panelItemClassName:t.string},o=n({},r,{triggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerCancelEvents:t.oneOfType([t.string,t.arrayOf(t.string)])}),a=n({},r,{triggerEvents:t.arrayOf(t.string),delayTriggerEvents:t.arrayOf(t.string),delayTriggerCancelEvents:t.arrayOf(t.string)}),i={tabs:[],mode:"horizontal",triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemClassName:"label-item",panelContainerClassName:"panel-container",panelItemClassName:"panel-item"},s=/\s+/;function l(e){if(e)return Array.isArray(e)?e:String(e).split(s)}var p,c,u=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(e.Component),f=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(e.Component),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var g={index:-1,key:void 0};function v(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||g}return g}var w={active:"active",inactive:"inactive",header:"header",footer:"footer"};function x(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var b="__react-tabber";function E(e,t,n){return b+"__"+e+"__"+t+"__label__"+n}function j(e,t){return b+"__"+e+"__panel__"+t}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function P(e,y,t,f,d){var n=e.mode,r=e.labelContainerClassName,h=e.labelItemClassName,g=e.triggerEvents,v=e.delayTriggerEvents,b=e.delayTriggerCancelEvents,m=e.delayTriggerLatency,o=r+"-"+f,a=r+"-"+n,i=r+"-"+f+"-"+n,O=h+"-"+w.active,C=h+"-"+w.inactive,_=y.tabberId,P=y.currentPosition.index;return T.createElement("div",{className:r+" "+o+" "+a+" "+i,role:"tablist"},t.map(function(e,t){var n,r,o,a=e.labelProps,i=e.key,s=function(){clearTimeout(y.delayTimeout),d({index:t,key:i})},l=m<=0?s:function(){clearTimeout(y.delayTimeout),n=y.delayTimeout=setTimeout(s,m)};v&&v.length&&(r=x(b,function(){n===y.delayTimeout&&clearTimeout(n)}),o=x(v,l));var p=x(g,s),c=t===P,u=c?O:C;return T.createElement("label",k({},a,r,o,p,{className:h+" "+u,tabIndex:0,id:E(_,f,t),role:"tab","aria-controls":j(_,t),"aria-selected":c,"aria-expanded":c,key:i?"key-"+i:"index-"+t}),e.label)}))}var N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function m(e,t,n,r){var o,a,i,s,l,p,c,u,y,f,d,h,g=e.mode,v=e.tabContainerClassName,b=e.showHeaderLabelContainer,m=e.showFooterLabelContainer,O=w.header,C=w.footer,_=v+"-"+g;return T.createElement("div",{className:v+" "+_},b?P(e,t,n,O,r):null,(a=t,i=n,s=b||!m?O:C,l=(o=e).mode,p=o.panelContainerClassName,c=o.panelItemClassName,u=a.tabberId,y=a.currentPosition.index,f=p+"-"+l,d=c+"-"+w.active,h=c+"-"+w.inactive,T.createElement("div",{className:p+" "+f},i.map(function(e,t){var n=e.panelProps,r=e.key,o=t===y,a=o?d:h;return T.createElement("div",N({},n,{className:c+" "+a,id:j(u,t),role:"tabpanel","aria-labelledby":E(u,s,t),"aria-hidden":!o,key:r?"key-"+r:"index-"+t}),e.panel)}))),m?P(e,t,n,C,r):null)}var O,C,_=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=0,A=function(n){function e(e){var t=n.call(this,e)||this;return t.tabContext={tabberId:I++,prevPosition:g,currentPosition:g,delayTimeout:0},t.switchTo=t.switchTo.bind(t),t.state={manageActiveIndex:!0,targetPosition:-1},t}return _(e,n),e.getDerivedStateFromProps=function(e,t){var n=e.activePosition;return null==n||"number"==typeof n&&!isFinite(n)?{manageActiveIndex:!0}:{manageActiveIndex:!1,targetPosition:n}},e.prototype.componentWillUnmount=function(){clearTimeout(this.tabContext.delayTimeout)},e.prototype.switchTo=function(e){var t=this.state.manageActiveIndex,n=this.props.onUpdateActivePosition;t?this.setState({targetPosition:e.index}):n&&n(e)},e.prototype.render=function(){var e,t=this.props,n=this.state,r=this.tabContext,o=n.targetPosition,a=r.prevPosition,i=a.index,s=t.tabs,l=v(s,o),p=l.index,c=s.length;return r.currentPosition=-1===p?v(s,e=0<c?0:-1):p<c?(e=p,l):v(s,e=c-1),i!==e&&t.onSwitching&&t.onSwitching(a,r.currentPosition),m(t,r,s,this.switchTo)},e.prototype.handleIndexChange=function(){var e=this.props,t=this.tabContext,n=e.onSwitched,r=t.prevPosition,o=t.currentPosition;r.index!==o.index&&n&&n(r,o),t.prevPosition=o},e.prototype.componentDidMount=function(){this.handleIndexChange()},e.prototype.componentDidUpdate=function(){this.handleIndexChange()},e.propTypes=a,e.defaultProps=i,e}(T.Component),L=(C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.render=function(){var e=this.props,t=e.tabs,n=e.children,r=e.triggerEvents,o=e.delayTriggerEvents,a=e.delayTriggerCancelEvents,i=F(e,["tabs","children","triggerEvents","delayTriggerEvents","delayTriggerCancelEvents"]),s=function(e,t){var n=[];if(e&&e.length&&n.push.apply(n,e.map(function(e){var t=h({},e);return void 0===t.key&&(t.key=null),t})),t){var r,o={},a=[],i={},s=[],l=function(){n.push({labelProps:o,label:a,panelProps:i,panel:s,key:r})};T.Children.forEach(t,function(e){var t=e;t.type&&t.type===y?(a.length&&l(),o=t.props,a=[],Array.isArray(t.props.children)?a.push.apply(a,t.props.children):a.push(t.props.children),i={},s=[],r=void 0!==t.key?t.key:n.length):(a.length||a.push(""),t.type&&t.type===d?(i=h({},i,t.props),Array.isArray(t.props.children)?s.push.apply(s,t.props.children):s.push(t.props.children)):t.type&&s.push(t))}),a.length&&l()}return n}(t,n);return T.createElement(A,S({},i,{triggerEvents:l(r),delayTriggerEvents:l(o),delayTriggerCancelEvents:l(a),tabs:s}))},t.Label=y,t.Panel=d,t.propTypes=o,t.defaultProps=i,t}(T.Component)});
