!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).ReactTabber=t(e.React,e.PropTypes)}(this,function(e,n){"use strict";var j="default"in e?e.default:e;n=n&&n.hasOwnProperty("default")?n.default:n;var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r={tabs:n.arrayOf(n.shape({label:n.node.isRequired,panel:n.node.isRequired,key:n.oneOfType([n.string,n.number])})),mode:n.string,delayTriggerLatency:n.number,activePosition:n.oneOfType([n.string,n.number]),onSwitching:n.func,onSwitched:n.func,tabContainerClassName:n.string,labelContainerClassName:n.string,showHeaderLabelContainer:n.bool,showFooterLabelContainer:n.bool,labelItemClassName:n.string,panelContainerClassName:n.string,panelItemClassName:n.string},o=t({},r,{triggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerCancelEvents:n.oneOfType([n.string,n.arrayOf(n.string)])}),i=t({},r,{triggerEvents:n.arrayOf(n.string),delayTriggerEvents:n.arrayOf(n.string),delayTriggerCancelEvents:n.arrayOf(n.string)}),a={tabs:[],mode:"horizontal",triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemClassName:"label-item",panelContainerClassName:"panel-container",panelItemClassName:"panel-item"},s=/\s+/;function l(e){if(e)return Array.isArray(e)?e:String(e).split(s)}var p,c,u=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.propTypes={disabled:n.bool,hidden:n.bool},t}(e.Component),d=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(e.Component),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};var f={index:-1,key:void 0};function y(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||f}return f}var k={active:"active",inactive:"inactive",disabled:"disabled",hidden:"hidden",header:"header",footer:"footer"};function N(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var m="__react-tabber";function I(e,t,n){return m+"__"+e+"__"+t+"__label__"+n}function A(e,t){return m+"__"+e+"__panel__"+t}var S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function w(e,y,t,h,b){var n=e.mode,r=e.labelContainerClassName,g=e.labelItemClassName,v=e.triggerEvents,m=e.delayTriggerEvents,O=e.delayTriggerCancelEvents,C=e.delayTriggerLatency,o=r+"-"+h,i=r+"-"+n,a=r+"-"+h+"-"+n,_=g+"-"+k.active,P=g+"-"+k.inactive,T=g+"-"+k.disabled,w=g+"-"+k.hidden,x=y.tabberId,E=y.currentPosition.index;return j.createElement("div",{className:r+" "+o+" "+i+" "+a,role:"tablist"},t.map(function(e,t){var n,r,o,i=e.labelProps,a=e.key,s=e.disabled,l=e.hidden;if(!s&&!l){var p,c=function(){clearTimeout(y.delayTimeout),b({index:t,key:a})},u=C<=0?c:function(){clearTimeout(y.delayTimeout),p=y.delayTimeout=setTimeout(c,C)};m&&m.length&&(n=N(O,function(){p===y.delayTimeout&&clearTimeout(p)}),r=N(m,u)),o=N(v,c)}var d=t===E,f=g+" "+(d?_:P);return s&&(f+=" "+T),l&&(f+=" "+w),j.createElement("label",S({},i,n,r,o,{className:f,tabIndex:0,id:I(x,h,t),role:"tab","aria-controls":A(x,t),"aria-selected":d,"aria-expanded":d,key:a?"key-"+a:"index-"+t}),e.label)}))}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function O(e,t,n,r){var o,i,a,l,s,p,c,u,d,f,y,h,b,g,v=e.mode,m=e.tabContainerClassName,O=e.showHeaderLabelContainer,C=e.showFooterLabelContainer,_=k.header,P=k.footer,T=m+"-"+v;return j.createElement("div",{className:m+" "+T},O?w(e,t,n,_,r):null,(i=t,a=n,l=O||!C?_:P,s=(o=e).mode,p=o.panelContainerClassName,c=o.panelItemClassName,u=i.tabberId,d=i.currentPosition.index,f=p+"-"+s,y=c+"-"+k.active,h=c+"-"+k.inactive,b=c+"-"+k.disabled,g=c+"-"+k.hidden,j.createElement("div",{className:p+" "+f},a.map(function(e,t){var n=e.panelProps,r=e.key,o=e.disabled,i=e.hidden,a=t===d,s=c+" "+(a?y:h);return o&&(s+=" "+b),i&&(s+=" "+g),j.createElement("div",x({},n,{className:s,id:A(u,t),role:"tabpanel","aria-labelledby":I(u,l,t),"aria-hidden":!a,key:r?"key-"+r:"index-"+t}),e.panel)}))),C?w(e,t,n,P,r):null)}var C,_,P=(C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=0,E=function(n){function e(e){var t=n.call(this,e)||this;return t.tabContext={tabberId:T++,prevPosition:f,currentPosition:f,delayTimeout:0},t.switchTo=t.switchTo.bind(t),t.state={manageActiveIndex:!0,targetPosition:-1},t}return P(e,n),e.getDerivedStateFromProps=function(e,t){var n=e.activePosition;return null==n||"number"==typeof n&&!isFinite(n)?{manageActiveIndex:!0}:{manageActiveIndex:!1,targetPosition:n}},e.prototype.componentWillUnmount=function(){clearTimeout(this.tabContext.delayTimeout)},e.prototype.switchTo=function(e){var t=this.state.manageActiveIndex,n=this.props.onUpdateActivePosition;t?this.setState({targetPosition:e.index}):n&&n(e)},e.prototype.render=function(){var e,t=this.props,n=this.state,r=this.tabContext,o=n.targetPosition,i=r.prevPosition,a=i.index,s=t.tabs,l=y(s,o),p=l.index,c=s.length;return r.currentPosition=-1===p?y(s,e=0<c?0:-1):p<c?(e=p,l):y(s,e=c-1),a!==e&&t.onSwitching&&t.onSwitching(i,r.currentPosition),O(t,r,s,this.switchTo)},e.prototype.handleIndexChange=function(){var e=this.props,t=this.tabContext,n=e.onSwitched,r=t.prevPosition,o=t.currentPosition;r.index!==o.index&&n&&n(r,o),t.prevPosition=o},e.prototype.componentDidMount=function(){this.handleIndexChange()},e.prototype.componentDidUpdate=function(){this.handleIndexChange()},e.propTypes=i,e.defaultProps=a,e}(j.Component),L=(_=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.render=function(){var e=this.props,t=e.tabs,n=e.children,r=e.triggerEvents,o=e.delayTriggerEvents,i=e.delayTriggerCancelEvents,a=q(e,["tabs","children","triggerEvents","delayTriggerEvents","delayTriggerCancelEvents"]),s=function(e,t){var a=[];if(e&&e.length&&a.push.apply(a,e.map(function(e){var t=g({},e);return void 0===t.key&&(t.key=null),t})),t){var s,l,p,c={},u=[],d={},f=[],y=function(){a.push({labelProps:c,label:u,panelProps:d,panel:f,key:s,disabled:l,hidden:p})};j.Children.forEach(t,function(e){var t=e;if(t.type&&t.type===h){u.length&&y();var n=t.props,r=n.disabled,o=n.hidden,i=v(n,["disabled","hidden"]);c=i,u=[],Array.isArray(t.props.children)?u.push.apply(u,t.props.children):u.push(t.props.children),d={},f=[],s=void 0!==t.key?t.key:a.length,l=r,p=o}else u.length||u.push(""),t.type&&t.type===b?(d=g({},d,t.props),Array.isArray(t.props.children)?f.push.apply(f,t.props.children):f.push(t.props.children)):t.type&&f.push(t)}),u.length&&y()}return a}(t,n);return j.createElement(E,F({},a,{triggerEvents:l(r),delayTriggerEvents:l(o),delayTriggerCancelEvents:l(i),tabs:s}))},t.Label=h,t.Panel=b,t.propTypes=o,t.defaultProps=a,t}(j.Component)});
