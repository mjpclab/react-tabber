!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):e.ReactTabber=t(e.React,e.PropTypes)}("undefined"!=typeof self?self:this,function(e,t){"use strict";var m="default"in e?e.default:e,n={tabs:(t=t&&t.hasOwnProperty("default")?t.default:t).arrayOf(t.shape({label:t.node.isRequired,panel:t.node.isRequired,key:t.oneOfType([t.string,t.number])})),triggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerCancelEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerLatency:t.number,activeIndex:t.number,onSwitching:t.func,onSwitched:t.func,tabContainerClassName:t.string,labelContainerClassName:t.string,showHeaderLabelContainer:t.bool,showFooterLabelContainer:t.bool,headerLabelContainerClassName:t.string,footerLabelContainerClassName:t.string,labelItemClassName:t.string,labelItemActiveClassName:t.string,labelItemInactiveClassName:t.string,panelContainerClassName:t.string,panelItemClassName:t.string,panelItemActiveClassName:t.string,panelItemInactiveClassName:t.string},a={tabs:[],activeIndex:0,triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,headerLabelContainerClassName:"header-container",footerLabelContainerClassName:"footer-container",labelItemClassName:"label-item",labelItemActiveClassName:"label-active",labelItemInactiveClassName:"label-inactive",panelContainerClassName:"panel-container",panelItemClassName:"panel-item",panelItemActiveClassName:"panel-active",panelItemInactiveClassName:"panel-inactive"};function o(e){if(""===e||!isFinite(e)||isNaN(e))return-1;var t=parseInt(e);return t<-1&&(t=-1),t}var r=/\s+/;function i(e){if(e)return Array.isArray(e)?e:String(e).split(r)}function h(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var s,l,p,c=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(e.Component),d=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(e.Component),f=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};return function(r){function e(e){var t=r.call(this,e)||this;t.currentIndex=-1,t.renderedIndex=-1;var n=e.activeIndex;return t.state={prevActiveIndex:n,targetIndex:n},t.triggerEvents=i(e.triggerEvents),t.delayTriggerEvents=i(e.delayTriggerEvents),t.delayTriggerCancelEvents=i(e.delayTriggerCancelEvents),t}return f(e,r),e.getDerivedStateFromProps=function(e,t){var n=o(e.activeIndex);return n!==t.prevActiveIndex?{prevActiveIndex:n,targetIndex:n}:null},e.prototype.componentWillUnmount=function(){clearTimeout(this.delayTimeout)},e.prototype._createLabelContainer=function(e,t){var c=this,n=this.props,r=n.labelContainerClassName,u=n.labelItemClassName,d=n.labelItemActiveClassName,y=n.labelItemInactiveClassName,f=n.delayTriggerLatency;return m.createElement("div",{className:r+" "+t},e.map(function(e,t){var n,r,a,o=function(){clearTimeout(c.delayTimeout),c.switchTo(t)},i=f<=0?o:function(){clearTimeout(c.delayTimeout),n=c.delayTimeout=setTimeout(o,f)},s=e.labelProps,l=e.key;c.delayTriggerEvents&&c.delayTriggerEvents.length&&(r=h(c.delayTriggerCancelEvents,function(){n===c.delayTimeout&&clearTimeout(n)}),a=h(c.delayTriggerEvents,i));var p=h(c.triggerEvents,o);return m.createElement("div",g({},s,r,a,p,{key:l?"key-"+l:"index-"+t,className:u+" "+(t===c.currentIndex?d:y)}),e.label)}))},e.prototype.createHeaderLabelContainer=function(e){return this._createLabelContainer(e,this.props.headerLabelContainerClassName)},e.prototype.createFooterLabelContainer=function(e){return this._createLabelContainer(e,this.props.footerLabelContainerClassName)},e.prototype.createPanelContainer=function(e){var a=this,t=this.props,n=t.panelContainerClassName,o=t.panelItemClassName,i=t.panelItemActiveClassName,s=t.panelItemInactiveClassName;return m.createElement("div",{className:n},e.map(function(e,t){var n=e.panelProps,r=e.key;return m.createElement("div",g({},n,{key:r?"key-"+r:"index-"+t,className:o+" "+(t===a.currentIndex?i:s)}),e.panel)}))},e.prototype.createTabContainer=function(e){var t=this.props,n=t.tabContainerClassName,r=t.showHeaderLabelContainer,a=t.showFooterLabelContainer;return m.createElement("div",{className:n},r?this.createHeaderLabelContainer(e):null,this.createPanelContainer(e),a?this.createFooterLabelContainer(e):null)},e.prototype.switchTo=function(e){this.setState({targetIndex:o(e)})},e.prototype.getTabEntries=function(){var n=[],e=this.props;if(e.tabs.length&&n.push.apply(n,e.tabs),e.children){var r,a={},o=[],i={},s=[],l=function(){n.push({labelProps:a,label:1===o.length?o[0]:o,panelProps:i,panel:1===s.length?s[0]:s,key:r})};m.Children.forEach(e.children,function(e){var t=e;t.type&&t.type===u?(o.length&&l(),a=t.props,o=[],Array.isArray(t.props.children)?o.push.apply(o,t.props.children):o.push(t.props.children),i={},s=[],r=t.key?"key-"+t.key:"index-"+n.length):(o.length||o.push(""),t.type&&t.type===y?(i=g({},i,t.props),Array.isArray(t.props.children)?s.push.apply(s,t.props.children):s.push(t.props.children)):t.type&&s.push(t))}),o.length&&l()}return n},e.prototype.render=function(){var e=this,t=e.props,n=e.state,r=e.getTabEntries(),a=e.currentIndex,o=e.currentIndex=n.targetIndex>=r.length?r.length-1:n.targetIndex;return a!==o&&t.onSwitching&&t.onSwitching(a,o),e.createTabContainer(r)},e.prototype.updateRenderedIndex=function(){var e=this.props,t=this.renderedIndex,n=this.renderedIndex=this.currentIndex;t!==n&&e.onSwitched&&e.onSwitched(t,n)},e.prototype.componentDidMount=function(){this.updateRenderedIndex()},e.prototype.componentDidUpdate=function(){this.updateRenderedIndex()},e.Label=u,e.Panel=y,e.propTypes=n,e.defaultProps=a,e}(m.Component)});
