!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):e.ReactTabber=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";var l="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t;var n=/\s+/;function r(e){if(e)return Array.isArray(e)?e:String(e).split(n)}function p(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var a,i,o,s=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(e.Component),u=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(e.Component),y=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};return function(n){function e(e){var t=n.call(this,e)||this;return t.activeIndex=-1,t.currentIndex=-1,t.renderedIndex=-1,t.activeIndex=t.getValidIndex(e.activeIndex),t.state={targetIndex:t.activeIndex},t}return y(e,n),e.prototype.componentWillReceiveProps=function(e){if(void 0!==e.activeIndex){var t=this.activeIndex,n=this.getValidIndex(e.activeIndex);t!==n&&(this.activeIndex=n,this.setState({targetIndex:this.activeIndex}))}},e.prototype.componentWillMount=function(){var e=this.props;this.triggerEvents=r(e.triggerEvents),this.delayTriggerEvents=r(e.delayTriggerEvents),this.delayTriggerCancelEvents=r(e.delayTriggerCancelEvents)},e.prototype.componentWillUnmount=function(){clearTimeout(this.delayTimeout)},e.prototype.getValidIndex=function(e){return""===e||!isFinite(e)||isNaN(e)?-1:parseInt(e)<0?0:e},e.prototype._getLabelContainer=function(e,t){var o=this,s=this.props;return l.createElement("div",{className:s.labelContainerClassName+" "+t},e.map(function(e,t){var n,r=function(){clearTimeout(o.delayTimeout),o.switchTo(t)},a=s.delayTriggerLatency<=0?r:function(){clearTimeout(o.delayTimeout),n=o.delayTimeout=setTimeout(r,s.delayTriggerLatency)},i=Object.assign({},e.labelProps);return o.delayTriggerEvents&&o.delayTriggerEvents.length&&Object.assign(i,p(o.delayTriggerCancelEvents,function(){n===o.delayTimeout&&clearTimeout(n)}),p(o.delayTriggerEvents,a)),Object.assign(i,p(o.triggerEvents,r),{key:e.key?"key-"+e.key:"index-"+t,className:s.labelItemClassName+" "+(t===o.currentIndex?s.labelItemActiveClassName:s.labelItemInactiveClassName)}),l.createElement("div",g({},i),e.label)}))},e.prototype.getHeaderLabelContainer=function(e){return this._getLabelContainer(e,this.props.headerLabelContainerClassName)},e.prototype.getFooterLabelContainer=function(e){return this._getLabelContainer(e,this.props.footerLabelContainerClassName)},e.prototype.getPanelContainer=function(e){var r=this,a=this.props;return l.createElement("div",{className:a.panelContainerClassName},e.map(function(e,t){var n=Object.assign({},e.panelProps,{key:e.key?"key-"+e.key:"index-"+t,className:a.panelItemClassName+" "+(t===r.currentIndex?a.panelItemActiveClassName:a.panelItemInactiveClassName)});return l.createElement("div",g({},n),e.panel)}))},e.prototype.getTabContainer=function(e){var t=this.props;return l.createElement("div",{className:t.tabContainerClassName},t.showHeaderLabelContainer?this.getHeaderLabelContainer(e):null,this.getPanelContainer(e),t.showFooterLabelContainer?this.getFooterLabelContainer(e):null)},e.prototype.switchTo=function(e){this.setState({targetIndex:this.getValidIndex(e)})},e.prototype.getTabEntries=function(){var n=[],e=this.props;if(e.tabs.length&&n.push.apply(n,e.tabs),e.children){var r,a={},i=[],o={},s=[];l.Children.forEach(e.children,function(e){var t=e;t.type&&t.type===c?(i.length&&n.push({labelProps:a,label:1===i.length?i[0]:i,panelProps:o,panel:1===s.length?s[0]:s,key:r}),a=Object.assign({},t.props),i=[],Array.isArray(t.props.children)?i.push.apply(i,t.props.children):i.push(t.props.children),o={},s=[],r=t.key?"key-"+t.key:"index-"+n.length):(i.length||i.push(""),t.type&&t.type===d?(Object.assign(o,t.props),Array.isArray(t.props.children)?s.push.apply(s,t.props.children):s.push(t.props.children)):t.type&&s.push(t))}),i.length&&n.push({labelProps:a,label:1===i.length?i[0]:i,panelProps:o,panel:1===s.length?s[0]:s,key:r})}return n},e.prototype.render=function(){var e=this,t=e.props,n=e.state,r=e.getTabEntries(),a=e.currentIndex,i=e.currentIndex=n.targetIndex>=r.length?r.length-1:n.targetIndex;return a!==i&&t.onSwitching&&t.onSwitching(a,i),e.getTabContainer(r)},e.prototype.updateRenderedIndex=function(){var e=this.props,t=this.renderedIndex,n=this.renderedIndex=this.currentIndex;t!==n&&e.onSwitched&&e.onSwitched(t,n)},e.prototype.componentDidMount=function(){this.updateRenderedIndex()},e.prototype.componentDidUpdate=function(){this.updateRenderedIndex()},e.Label=c,e.Panel=d,e.propTypes={tabs:t.arrayOf(t.shape({label:t.node.isRequired,panel:t.node.isRequired,key:t.oneOfType([t.string,t.number])})).isRequired,triggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerCancelEvents:t.oneOfType([t.string,t.arrayOf(t.string)]),delayTriggerLatency:t.number,activeIndex:t.number,onSwitching:t.func,onSwitched:t.func,tabContainerClassName:t.string,labelContainerClassName:t.string,showHeaderLabelContainer:t.bool,showFooterLabelContainer:t.bool,headerLabelContainerClassName:t.string,footerLabelContainerClassName:t.string,labelItemClassName:t.string,labelItemActiveClassName:t.string,labelItemInactiveClassName:t.string,panelContainerClassName:t.string,panelItemClassName:t.string,panelItemActiveClassName:t.string,panelItemInactiveClassName:t.string},e.defaultProps={tabs:[],activeIndex:0,triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,headerLabelContainerClassName:"header-container",footerLabelContainerClassName:"footer-container",labelItemClassName:"label-item",labelItemActiveClassName:"label-active",labelItemInactiveClassName:"label-inactive",panelContainerClassName:"panel-container",panelItemClassName:"panel-item",panelItemActiveClassName:"panel-active",panelItemInactiveClassName:"panel-inactive"},e}(l.Component)});
