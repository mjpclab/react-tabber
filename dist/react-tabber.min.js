!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).ReactTabber=t(e.React,e.PropTypes)}(this,function(e,n){"use strict";var S="default"in e?e.default:e;n=n&&n.hasOwnProperty("default")?n.default:n;var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r={tabs:n.arrayOf(n.shape({label:n.node.isRequired,panel:n.node.isRequired,key:n.oneOfType([n.string,n.number])})),mode:n.string,keyboardSwitch:n.bool,delayTriggerLatency:n.number,activePosition:n.oneOfType([n.string,n.number]),onSwitching:n.func,onSwitched:n.func,tabContainerClassName:n.string,labelContainerClassName:n.string,showHeaderLabelContainer:n.bool,showFooterLabelContainer:n.bool,labelItemClassName:n.string,panelContainerClassName:n.string,panelItemClassName:n.string},o=t({},r,{triggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerEvents:n.oneOfType([n.string,n.arrayOf(n.string)]),delayTriggerCancelEvents:n.oneOfType([n.string,n.arrayOf(n.string)])}),i=t({},r,{triggerEvents:n.arrayOf(n.string),delayTriggerEvents:n.arrayOf(n.string),delayTriggerCancelEvents:n.arrayOf(n.string)}),a={tabs:[],mode:"horizontal",keyboardSwitch:!0,triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemClassName:"label-item",panelContainerClassName:"panel-container",panelItemClassName:"panel-item"},s=/\s+/;function c(e){if(e)return Array.isArray(e)?e:String(e).split(s)}var l,p,u=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.propTypes={disabled:n.bool,hidden:n.bool},t}(e.Component),d=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(e.Component),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};var f={index:-1,key:void 0};function m(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||f}return f}var L={active:"active",inactive:"inactive",disabled:"disabled",hidden:"hidden",header:"header",footer:"footer"};function F(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var y="__react-tabber";function D(e,t,n){return y+"__"+e+"__"+t+"__label__"+n}function R(e,t){return y+"__"+e+"__panel__"+t}var B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},U="Up",q="Down",H="Left",K="Right",z="ArrowUp",M="ArrowDown",W="ArrowLeft",G="ArrowRight",J="Tab",Q=" ",V="Enter";function k(e,h,t,b,v,g,m){var w;var n=e.mode,O=e.keyboardSwitch,r=e.labelContainerClassName,_=e.labelItemClassName,P=e.triggerEvents,C=e.delayTriggerEvents,x=e.delayTriggerCancelEvents,T=e.delayTriggerLatency,o=r+"-"+b,i=r+"-"+n,a=r+"-"+b+"-"+n,k=_+"-"+L.active,N=_+"-"+L.inactive,E=_+"-"+L.disabled,j=_+"-"+L.hidden,A=h.tabberId,I=h.currentPosition.index;return S.createElement("div",{className:r+" "+o+" "+i+" "+a,role:"tablist"},t.map(function(e,t){var n,r,o,i=e.labelProps,a=e.key,s=e.disabled,c=e.hidden,l={index:t,key:a};if(!s&&!c){var p,u=function(){clearTimeout(h.delayTimeout),v(l)},d=T<=0?u:function(){clearTimeout(h.delayTimeout),p=h.delayTimeout=setTimeout(u,T)};C&&C.length&&(n=F(x,function(){p===h.delayTimeout&&clearTimeout(p)}),r=F(C,d)),o=F(P,u)}var f=t===I,y=_+" "+(f?k:N);return s&&(y+=" "+E),c&&(y+=" "+j),S.createElement("label",B({},i,n,r,o,{className:y,tabIndex:0,id:D(A,b,t),role:"tab","aria-controls":R(A,t),"aria-selected":f,"aria-expanded":f,key:a?"key-"+a:"index-"+t,onKeyDown:O?function(e){return function(e,t){if(e.key)switch(e.key){case U:case H:case z:case W:w=g();break;case q:case K:case M:case G:w=m();break;case J:(w=e.shiftKey?g():m())&&e.preventDefault();break;case Q:case V:w=v(t)}if(w){var n=e.currentTarget.parentNode.childNodes[w.index];n&&n.focus&&n.focus(),e.preventDefault()}}(e,l)}:void 0}),e.label)}))}var N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function w(e,t,n,r,o,i){var a,s,c,l,p,u,d,f,y,h,b,v,g,m,w=e.mode,O=e.tabContainerClassName,_=e.showHeaderLabelContainer,P=e.showFooterLabelContainer,C=L.header,x=L.footer,T=O+"-"+w;return S.createElement("div",{className:O+" "+T},_?k(e,t,n,C,r,o,i):null,(s=t,c=n,l=_||!P?C:x,p=(a=e).mode,u=a.panelContainerClassName,d=a.panelItemClassName,f=s.tabberId,y=s.currentPosition.index,h=u+"-"+p,b=d+"-"+L.active,v=d+"-"+L.inactive,g=d+"-"+L.disabled,m=d+"-"+L.hidden,S.createElement("div",{className:u+" "+h},c.map(function(e,t){var n=e.panelProps,r=e.key,o=e.disabled,i=e.hidden,a=t===y,s=d+" "+(a?b:v);return o&&(s+=" "+g),i&&(s+=" "+m),S.createElement("div",N({},n,{className:s,id:R(f,t),role:"tabpanel","aria-labelledby":D(f,l,t),"aria-hidden":!a,key:r?"key-"+r:"index-"+t}),e.panel)}))),P?k(e,t,n,x,r,o,i):null)}var O,_,P,C=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(P=_||(_={}))[P.Backward=0]="Backward",P[P.Forward=1]="Forward";var x,T=0,E=function(n){function e(e){var t=n.call(this,e)||this;return t.tabContext={tabberId:T++,prevPosition:f,currentPosition:f,delayTimeout:0},t.switchTo=t.switchTo.bind(t),t._switchNeighbor=t._switchNeighbor.bind(t),t.switchPrevious=t.switchPrevious.bind(t),t.switchNext=t.switchNext.bind(t),t.state={manageActiveIndex:!0,targetPosition:-1},t}return C(e,n),e.getDerivedStateFromProps=function(e){var t=e.activePosition;return null==t||"number"==typeof t&&!isFinite(t)?{manageActiveIndex:!0}:{manageActiveIndex:!1,targetPosition:t}},e.prototype.componentWillUnmount=function(){clearTimeout(this.tabContext.delayTimeout)},e.prototype.switchTo=function(e){var t=this.state.manageActiveIndex,n=this.props.onUpdateActivePosition;return t?this.setState({targetPosition:e.index}):n&&n(e),e},e.prototype._switchNeighbor=function(e,t){var n,r,o,i;t&&(n=t.includeDisabled,r=t.includeHidden,o=t.loop,i=t.exclude);var a=this.props.tabs,s=i?i.map(function(e){return m(a,e).index}):[],c=this.tabContext.currentPosition.index,l=a.length,p=-1;o?p=0<=c&&c<l?l-1:l:e===_.Backward?p=c:e===_.Forward&&(p=l-c-1);for(var u=e===_.Backward?-1:1,d=1;d<=p;d++){var f=(c+d*u+l)%l;if(!(0<=s.indexOf(f))){var y=a[f],h=y.disabled,b=y.hidden;if(!h&&!b||n&&!b||!h&&r||n&&r)return this.switchTo(m(a,f))}}},e.prototype.switchPrevious=function(e){return this._switchNeighbor(_.Backward,e)},e.prototype.switchNext=function(e){return this._switchNeighbor(_.Forward,e)},e.prototype.render=function(){var e,t=this.props,n=this.state,r=this.tabContext,o=n.targetPosition,i=r.prevPosition,a=i.index,s=t.tabs,c=m(s,o),l=c.index,p=s.length;return r.currentPosition=-1===l?m(s,e=0<p?0:-1):l<p?(e=l,c):m(s,e=p-1),a!==e&&t.onSwitching&&t.onSwitching(i,r.currentPosition),w(t,r,s,this.switchTo,this.switchPrevious,this.switchNext)},e.prototype.handleIndexChange=function(){var e=this.props,t=this.tabContext,n=e.onSwitched,r=t.prevPosition,o=t.currentPosition;r.index!==o.index&&n&&n(r,o),t.prevPosition=o},e.prototype.componentDidMount=function(){this.handleIndexChange()},e.prototype.componentDidUpdate=function(){this.handleIndexChange()},e.propTypes=i,e.defaultProps=a,e}(S.Component),j=(x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.render=function(){var e=this.props,t=e.tabs,n=e.children,r=e.triggerEvents,o=e.delayTriggerEvents,i=e.delayTriggerCancelEvents,a=I(e,["tabs","children","triggerEvents","delayTriggerEvents","delayTriggerCancelEvents"]),s=function(e,t){var a=[];if(e&&e.length&&a.push.apply(a,e.map(function(e){var t=v({},e);return void 0===t.key&&(t.key=null),t})),t){var s,c,l,p={},u=[],d={},f=[],y=function(){a.push({labelProps:p,label:u,panelProps:d,panel:f,key:s,disabled:c,hidden:l})};S.Children.forEach(t,function(e){var t=e;if(t.type&&t.type===h){u.length&&y();var n=t.props,r=n.disabled,o=n.hidden,i=g(n,["disabled","hidden"]);p=i,u=[],Array.isArray(t.props.children)?u.push.apply(u,t.props.children):u.push(t.props.children),d={},f=[],s=void 0!==t.key?t.key:a.length,c=r,l=o}else u.length||u.push(""),t.type&&t.type===b?(d=v({},d,t.props),Array.isArray(t.props.children)?f.push.apply(f,t.props.children):f.push(t.props.children)):t.type&&f.push(t)}),u.length&&y()}return a}(t,n);return S.createElement(E,A({},a,{triggerEvents:c(r),delayTriggerEvents:c(o),delayTriggerCancelEvents:c(i),tabs:s}))},t.Label=h,t.Panel=b,t.propTypes=o,t.defaultProps=a,t}(S.Component)});
