!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).ReactTabber=t(e.React,e.PropTypes)}(this,function(e,r){"use strict";var E="default"in e?e.default:e;r=r&&r.hasOwnProperty("default")?r.default:r;var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n={tabs:r.arrayOf(r.shape({label:r.node.isRequired,panel:r.node.isRequired,key:r.oneOfType([r.string,r.number])})),mode:r.string,keyboardSwitch:r.bool,delayTriggerLatency:r.number,activePosition:r.oneOfType([r.string,r.number]),onSwitching:r.func,onSwitched:r.func,tabContainerClassName:r.string,labelContainerClassName:r.string,showHeaderLabelContainer:r.bool,showFooterLabelContainer:r.bool,labelItemClassName:r.string,panelContainerClassName:r.string,panelItemClassName:r.string},o=t({},n,{triggerEvents:r.oneOfType([r.string,r.arrayOf(r.string)]),delayTriggerEvents:r.oneOfType([r.string,r.arrayOf(r.string)]),delayTriggerCancelEvents:r.oneOfType([r.string,r.arrayOf(r.string)])}),i=t({},n,{triggerEvents:r.arrayOf(r.string),delayTriggerEvents:r.arrayOf(r.string),delayTriggerCancelEvents:r.arrayOf(r.string)}),a={tabs:[],mode:"horizontal",keyboardSwitch:!0,triggerEvents:["onClick"],delayTriggerLatency:200,tabContainerClassName:"tab-container",labelContainerClassName:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemClassName:"label-item",panelContainerClassName:"panel-container",panelItemClassName:"panel-item"},s=/\s+/;function c(e){if(e)return Array.isArray(e)?e:String(e).split(s)}var l,p,u=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.propTypes={disabled:r.bool,hidden:r.bool},t}(e.Component),f=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(e.Component),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};var h={index:-1,key:void 0};function w(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||h}return h}var d="__react-tabber",g=Number.MAX_SAFE_INTEGER||9007199254740991,C=-1;function j(e,t,n){return d+"__"+e+"__"+t+"__label__"+n}function A(e,t){return d+"__"+e+"__panel__"+t}var P="active",_="inactive",O="disabled",N="hidden",x="header",T="footer";function L(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}var S,I,k=(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},D=function(n){function e(e){var t=n.call(this,e)||this;return t.onKeyDown=t.onKeyDown.bind(t),t}return k(e,n),e.getDerivedStateFromProps=function(e){var t=e.tabProps,n=t.mode,r=t.labelContainerClassName,o=t.labelItemClassName,i=e.side;return{labelContainerAllClassName:r+" "+(r+"-"+i)+" "+(r+"-"+n)+" "+(r+"-"+i+"-"+n),labelItemActiveClassName:o+"-"+P,labelItemInactiveClassName:o+"-"+_,labelItemDisabledClassName:o+"-"+O,labelItemHiddenClassName:o+"-"+N}},e.prototype.onKeyDown=function(e,t){var n,r=this.props,o=r.fnSwitchTo,i=r.fnSwitchPrevious,a=r.fnSwitchNext,s=r.fnSwitchFirst,c=r.fnSwitchLast;if(e.key)switch(e.key){case"Up":case"Left":case"ArrowUp":case"ArrowLeft":n=i();break;case"Down":case"Right":case"ArrowDown":case"ArrowRight":n=a();break;case"Tab":(n=e.shiftKey?i():a())&&e.preventDefault();break;case"Home":n=s();break;case"End":n=c();break;case" ":case"Enter":n=o(t)}if(n){var l=e.currentTarget.parentNode.childNodes[n.index];l&&l.focus&&l.focus(),e.preventDefault()}},e.prototype.render=function(){var y=this,e=this.props,t=e.tabProps,b=t.keyboardSwitch,m=t.labelItemClassName,v=t.triggerEvents,w=t.delayTriggerEvents,g=t.delayTriggerCancelEvents,C=t.delayTriggerLatency,n=e.entries,P=e.tabContext,_=e.side,O=e.fnSwitchTo,N=P.tabberId,x=P.currentPosition.index,r=this.state,o=r.labelContainerAllClassName,T=r.labelItemActiveClassName,S=r.labelItemInactiveClassName,I=r.labelItemDisabledClassName,k=r.labelItemHiddenClassName;return E.createElement("div",{className:o,role:"tablist"},n.map(function(e,t){var n,r,o,i=e.labelProps,a=e.key,s=e.disabled,c=e.hidden,l={index:t,key:a};if(!s&&!c){var p,u=function(){clearTimeout(P.delayTimeout),O(l)},f=C<=0?u:function(){clearTimeout(P.delayTimeout),p=P.delayTimeout=setTimeout(u,C)};w&&w.length&&(n=L(g,function(){p===P.delayTimeout&&clearTimeout(p)}),r=L(w,f)),o=L(v,u)}var h=t===x,d=m+" "+(h?T:S);return s&&(d+=" "+I),c&&(d+=" "+k),E.createElement("label",F({},i,n,r,o,{className:d,tabIndex:0,id:j(N,_,t),role:"tab","aria-controls":A(N,t),"aria-selected":h,"aria-expanded":h,key:a?"key-"+a:"index-"+t,onKeyDown:b?function(e){return y.onKeyDown(e,l)}:void 0}),e.label)}))},e.propTypes={tabProps:r.object,tabContext:r.object,entries:r.arrayOf(r.object),side:r.string,fnSwitchTo:r.func,fnSwitchPrevious:r.func,fnSwitchNext:r.func,fnSwitchFirst:r.func,fnSwitchLast:r.func},e}(e.Component),H=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.getDerivedStateFromProps=function(e){var t=e.tabProps,n=t.mode,r=t.panelContainerClassName,o=t.panelItemClassName;return{panelContainerAllClassName:r+" "+(r+"-"+n),panelItemActiveClassName:o+"-"+P,panelItemInactiveClassName:o+"-"+_,panelItemDisabledClassName:o+"-"+O,panelItemHiddenClassName:o+"-"+N}},t.prototype.render=function(){var e=this.props,c=e.tabProps.panelItemClassName,t=e.tabContext,n=e.entries,l=e.refLabelSide,p=t.tabberId,u=t.currentPosition.index,r=this.state,o=r.panelContainerAllClassName,f=r.panelItemActiveClassName,h=r.panelItemInactiveClassName,d=r.panelItemDisabledClassName,y=r.panelItemHiddenClassName;return E.createElement("div",{className:o},n.map(function(e,t){var n=e.panelProps,r=e.key,o=e.disabled,i=e.hidden,a=t===u,s=c+" "+(a?f:h);return o&&(s+=" "+d),i&&(s+=" "+y),E.createElement("div",R({},n,{className:s,id:A(p,t),role:"tabpanel","aria-labelledby":j(p,l,t),"aria-hidden":!a,key:r?"key-"+r:"index-"+t}),e.panel)}))},t.propTypes={tabProps:r.object,tabContext:r.object,entries:r.arrayOf(r.object),refLabelSide:r.string},t}(e.Component);function K(e){var t=e.tabProps,n=e.tabContext,r=e.entries,o=e.fnSwitchTo,i=e.fnSwitchPrevious,a=e.fnSwitchNext,s=e.fnSwitchFirst,c=e.fnSwitchLast,l=t.mode,p=t.tabContainerClassName,u=t.showHeaderLabelContainer,f=t.showFooterLabelContainer,h=x,d=T,y=p+"-"+l;return E.createElement("div",{className:p+" "+y},u?E.createElement(D,{tabProps:t,tabContext:n,entries:r,side:h,fnSwitchTo:o,fnSwitchPrevious:i,fnSwitchNext:a,fnSwitchFirst:s,fnSwitchLast:c}):null,E.createElement(B,{tabProps:t,tabContext:n,entries:r,refLabelSide:u||!f?h:d}),f?E.createElement(D,{tabProps:t,tabContext:n,entries:r,side:d,fnSwitchTo:o,fnSwitchPrevious:i,fnSwitchNext:a,fnSwitchFirst:s,fnSwitchLast:c}):null)}var U,q,M,z=(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(M=q||(q={}))[M.Backward=0]="Backward",M[M.Forward=1]="Forward";var G,W=function(n){function e(e){var t=n.call(this,e)||this;return t.tabContext={tabberId:C=(C+1)%g,prevPosition:h,currentPosition:h,delayTimeout:0},t.switchTo=t.switchTo.bind(t),t._switchNeighbor=t._switchNeighbor.bind(t),t.switchPrevious=t.switchPrevious.bind(t),t.switchNext=t.switchNext.bind(t),t.switchFirst=t.switchFirst.bind(t),t.switchLast=t.switchLast.bind(t),t.state={manageActiveIndex:!0,targetPosition:-1},t}return z(e,n),e.getDerivedStateFromProps=function(e){var t=e.activePosition;return null==t||"number"==typeof t&&!isFinite(t)?{manageActiveIndex:!0}:{manageActiveIndex:!1,targetPosition:t}},e.prototype.componentWillUnmount=function(){clearTimeout(this.tabContext.delayTimeout)},e.prototype.switchTo=function(e){var t=this.state.manageActiveIndex,n=this.props,r=n.onUpdateActivePosition,o=n.onUpdateTargetPosition;return t?o&&!1===o(e)||this.setState({targetPosition:e.index}):r&&r(e),e},e.prototype._switchNeighbor=function(e,t,n){var r,o,i,a;n&&(r=n.includeDisabled,o=n.includeHidden,i=n.loop,a=n.exclude);var s=this.props.tabs,c=a?a.map(function(e){return w(s,e).index}):[],l=s.length,p=-1;i?p=0<=e&&e<l?l-1:l:t===q.Backward?p=e:t===q.Forward&&(p=l-e-1);for(var u=t===q.Backward?-1:1,f=1;f<=p;f++){var h=(e+f*u+l)%l;if(!(0<=c.indexOf(h))){var d=s[h],y=d.disabled,b=d.hidden;if(!y&&!b||r&&!b||!y&&o||r&&o)return this.switchTo(w(s,h))}}},e.prototype.switchPrevious=function(e){return this._switchNeighbor(this.tabContext.currentPosition.index,q.Backward,e)},e.prototype.switchNext=function(e){return this._switchNeighbor(this.tabContext.currentPosition.index,q.Forward,e)},e.prototype.switchFirst=function(e){return this._switchNeighbor(-1,q.Forward,e)},e.prototype.switchLast=function(e){return this._switchNeighbor(this.props.tabs.length,q.Backward,e)},e.prototype.render=function(){var e,t=this.props,n=this.state,r=this.tabContext,o=n.targetPosition,i=r.prevPosition,a=i.index,s=t.tabs,c=w(s,o),l=c.index,p=s.length;return r.currentPosition=-1===l?w(s,e=0<p?0:-1):l<p?(e=l,c):w(s,e=p-1),a!==e&&t.onSwitching&&t.onSwitching(i,r.currentPosition),E.createElement(K,{tabProps:t,tabContext:r,entries:s,fnSwitchTo:this.switchTo,fnSwitchPrevious:this.switchPrevious,fnSwitchNext:this.switchNext,fnSwitchFirst:this.switchFirst,fnSwitchLast:this.switchLast})},e.prototype.handleIndexChange=function(){var e=this.props,t=this.tabContext,n=e.onSwitched,r=t.prevPosition,o=t.currentPosition;r.index!==o.index&&n&&n(r,o),t.prevPosition=o},e.prototype.componentDidMount=function(){this.handleIndexChange()},e.prototype.componentDidUpdate=function(){this.handleIndexChange()},e.propTypes=i,e.defaultProps=a,e}(E.Component),X=(G=function(e,t){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),J=function(){return(J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype.render=function(){var e=this.props,t=e.tabs,n=e.children,r=e.triggerEvents,o=e.delayTriggerEvents,i=e.delayTriggerCancelEvents,a=Q(e,["tabs","children","triggerEvents","delayTriggerEvents","delayTriggerCancelEvents"]),s=function(e,t){var a=[];if(e&&e.length&&a.push.apply(a,e.map(function(e){var t=m({},e);return void 0===t.key&&(t.key=null),t})),t){var s,c,l,p={},u=[],f={},h=[],d=function(){a.push({labelProps:p,label:u,panelProps:f,panel:h,key:s,disabled:c,hidden:l})};E.Children.forEach(t,function(e){var t=e;if(t.type&&t.type===y){u.length&&d();var n=t.props,r=n.disabled,o=n.hidden,i=v(n,["disabled","hidden"]);p=i,u=[],Array.isArray(t.props.children)?u.push.apply(u,t.props.children):u.push(t.props.children),f={},h=[],s=void 0!==t.key?t.key:a.length,c=r,l=o}else u.length||u.push(""),t.type&&t.type===b?(f=m({},f,t.props),Array.isArray(t.props.children)?h.push.apply(h,t.props.children):h.push(t.props.children)):t.type&&h.push(t)}),u.length&&d()}return a}(t,n);return E.createElement(W,J({},a,{triggerEvents:c(r),delayTriggerEvents:c(o),delayTriggerCancelEvents:c(i),tabs:s}))},t.Label=y,t.Panel=b,t.propTypes=o,t.defaultProps=a,t}(e.Component)});
