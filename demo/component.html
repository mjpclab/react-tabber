<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<title>Demo</title>
	<link rel="stylesheet" type="text/css" href="../src/css/layout.css"/>
	<link rel="stylesheet" type="text/css" href="../src/css/skin-gray.css"/>
	<link rel="stylesheet" type="text/css" href="css/main.css"/>
</head>
<body>
<div id="container"></div>

<script type="text/javascript" src="../node_modules/react/dist/react.js"></script>
<script type="text/javascript" src="../node_modules/react-dom/dist/react-dom.js"></script>
<script type="text/javascript" src="js/browser.min.js"></script>

<script type="text/javascript" src="../dist/react-tabber.js"></script>
<script type="text/babel">
	class App extends React.Component {
		constructor(props) {
			super(props);

			this.state = {
				tabs: [
					{label: 'title1', page: <div>content1</div>},
					{label: <span>title2</span>, page: <div>content2</div>}
				]
			};

			this.addTab = this.addTab.bind(this);
			this.removeTab = this.removeTab.bind(this);
		}

		onSwitch(oldIndex, newIndex) {
			console.log('switched ' + oldIndex + ' ' + newIndex);
		}

		addTab() {
			const newTabs = this.state.tabs;
			newTabs.push({
				label: 'label-' + (newTabs.length + 1),
				page: 'content-' + (newTabs.length + 1)
			});

			this.setState({
				tabs: newTabs
			});
		}

		removeTab() {
			if (this.state.tabs.length) {
				const newTabs = this.state.tabs;
				newTabs.length--;

				this.setState({
					tabs: newTabs
				});
			}
		}

		render() {
			return <div>
				<ReactTabber tabs={this.state.tabs} onSwitch={this.onSwitch}/>
				<button onClick={this.addTab}>Add Tab</button>
				<button onClick={this.removeTab}>Remove Tab</button>
			</div>;
		}
	}

	ReactDOM.render(<App/>, document.getElementById('container'))
</script>
</body>
</html>